//地图自定义覆盖物function ComplexCustomOverlay(point, text, url, key){  this._point = point;  this._text = text;  this._key  = key;  this._url  = url;}ComplexCustomOverlay.prototype = new BMap.Overlay();ComplexCustomOverlay.prototype.initialize = function(map){  this._map = map;  //标注框  var div = this._div = document.createElement('div');  div.style.position = "absolute";  div.style.zIndex = BMap.Overlay.getZIndex(this._point.lat);  div.style.border = "1px solid #d9d9d9";  div.style.background = "#fff";  div.style.borderRadius = "4px";  div.style.height = "auto";  div.style.paddingTop = "0.36rem";  div.style.paddingBottom = "0.36rem";  div.style.paddingLeft = "0.36rem";  div.style.paddingRight = "2.4rem";  div.style.lineHeight = "0.72rem";  div.style.whiteSpace = "nowrap";  div.style.MozUserSelect = "none";  div.style.fontSize = "12px";  //标注箭头  var em = this._em = document.createElement("em");  div.appendChild(em);  em.style.display= "block";  em.style.width="10px";  em.style.height = "10px";  em.style.background= "#fff";  em.style.borderRight= "1px solid #d9d9d9";  em.style.borderBottom= "1px solid #d9d9d9";  em.style.webkitTransform= "rotate(45deg)";  em.style.transform= "rotate(45deg)";  em.style.position= "absolute";  em.style.left= "50%";  em.style.marginLeft= "-5px";  em.style.bottom= "-5px";  div.appendChild(document.createTextNode(this._text));        var that = this;  //导航栏框  var atag = this._atag = document.createElement("a");  div.appendChild(atag);  atag.style.lineHeight= "0.72rem";  atag.style.display= "block";  atag.style.width= "1.6266666667rem";  atag.style.height= "0.72rem";  atag.style.textAlign= "center";  atag.style.color= "#fff";  atag.style.background= "#44a5f7";  atag.style.borderRadius= "4px";  atag.style.position= "absolute";  atag.style.right= "0.36rem";  atag.style.top= "0.36rem";  atag.setAttribute('href', this._url);    var url = this._url;  atag.addEventListener("touchstart", function () {    window.location.href= url;    //skipMap.openMap();  });  //导航按钮  var a_em = document.createElement("em");  atag.appendChild(a_em);  atag.appendChild(document.createTextNode('导航'));   a_em.style.display= "inline-block";  a_em.style.background= "url("+ siteUrl +"/images/m-hall/arrow1.png) no-repeat";  a_em.style.backgroundSize= "auto 11px";  a_em.style.width= "11px";  a_em.style.height= "11px";  a_em.style.verticalAlign= "middle";  a_em.style.margin= "-2px 4px 0 0";    if (this._key !='undefine') {    var className = "myPos pos" + this._key;    div.setAttribute("class", className);  }  map.getPanes().labelPane.appendChild(div);  return div;}ComplexCustomOverlay.prototype.draw = function(){    var map = this._map;  var pixel = map.pointToOverlayPixel(this._point);  this._div.style.left = pixel.x - this._div.offsetWidth/2 + 'px';  this._div.style.top  = pixel.y - this._div.offsetHeight - this._em.offsetHeight/2 - 25 + 'px';}