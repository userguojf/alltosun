<?php/**  * alltosun.com 用户登录记录详情 login_record.php  * ============================================================================  * 版权所有 (C) 2009-2013 北京互动阳光科技有限公司，并保留所有权利。  * 网站地址: http://www.alltosun.com  * ----------------------------------------------------------------------------  * 许可声明：这是一个开源程序，未经许可不得将本软件的整体或任何部分用于商业用途及再发布。  * ============================================================================  * $Author: 王敬飞 (wangjf@alltosun.com) $  * $Date: 2016-7-12 下午12:02:24 $  * $Id$  */class Action{    public $per_page = 20;    public function __call($action = '', $params = array())    {        if (!$action) {            Response::redirect(AnUrl('user/admin'));            Response::flush();            return;        }        $uid                = $action;        $filter             = array();        $login_list         = array();        $page               = tools_helper::get('page_no', 1);        $filter['user_id']  = $uid;        //获取登录记录总数        $count = _model('user_login_record')->getTotal($filter);        if ($count) {            $pager = new Pager($this->per_page);            $login_list = _model('user_login_record')->getList($filter, 'ORDER BY `add_time` DESC '.$pager->getLimit($page));            if ($pager->generate($count, $page)) {                Response::assign('pager', $pager);            }        }        Response::assign('login_list', $login_list);        Response::assign('uid', $uid);        Response::display('admin/login_info_list.html');    }}